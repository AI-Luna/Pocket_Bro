POCKET BRO
Technical Specification for Claude Code
React Native + Expo | Cross-Platform Mobile App
Version 1.0 | January 2025
1. Project Overview
1.1 Summary
Build a Tamagotchi-style mobile game where players nurture a Tech Bro/Gal through the startup journey. The app features pixelated retro graphics, real-time stat management, and optional multiplayer co-parenting via shared links.
1.2 Tech Stack
Layer
	Technology
	Framework
	React Native + Expo SDK 50+
	Language
	TypeScript
	State Management
	Zustand (with persist middleware)
	Local Storage
	AsyncStorage
	Backend/Sync
	Firebase Realtime Database
	Auth
	Firebase Anonymous Auth (upgrade path to full auth)
	Notifications
	Expo Notifications
	Navigation
	React Navigation
	1.3 Why This Stack
* React Native + Expo: Single codebase for iOS and Android, fast iteration, excellent tooling
* Zustand: Lightweight state management, perfect for game state, simpler than Redux
* Firebase: Real-time sync for multiplayer, authentication, cloud storage—all managed
* Pixel Art + Image Assets: No need for game engines—React Native handles sprite rendering with proper image scaling
________________


2. Architecture
2.1 High-Level Architecture
The app follows a unidirectional data flow pattern. Game state is managed centrally in Zustand, with Firebase providing persistence and real-time sync for multiplayer.
┌─────────────────────────────────────────────────┐│                    UI Layer                     ││  (Screens, Components, Pixel Art Rendering)     │└─────────────────────┬───────────────────────────┘                      │┌─────────────────────▼───────────────────────────┐│               Zustand Store                     ││  (BroState, Actions, Game Loop)                 │└─────────────────────┬───────────────────────────┘                      │        ┌─────────────┴─────────────┐        ▼                           ▼┌───────────────┐           ┌───────────────┐│  AsyncStorage │           │   Firebase    ││  (Offline)    │◄─────────►│  (Multiplayer)│└───────────────┘   sync    └───────────────┘
2.2 Project Structure
PocketBro/├── app/                    # Expo Router screens│   ├── (tabs)/│   │   ├── index.tsx       # Main game screen│   │   ├── actions.tsx     # Action menu│   │   ├── startup.tsx     # Startup dashboard│   │   └── profile.tsx     # Bro profile│   ├── minigames/│   │   ├── dating.tsx│   │   └── lockin.tsx│   └── _layout.tsx├── components/│   ├── BroDisplay.tsx      # Pixel character renderer│   ├── StatsBar.tsx│   ├── DialogueBubble.tsx│   ├── ActionButton.tsx│   └── PixelImage.tsx├── config/│   ├── actions/            # All action definitions│   ├── archetypes.ts│   ├── randomEvents.ts│   └── gameConfig.ts       # Constants, decay rates├── stores/│   └── gameStore.ts        # Zustand store├── services/│   ├── firebase.ts│   ├── notifications.ts│   └── eventService.ts├── utils/│   ├── gameLoop.ts│   └── helpers.ts├── assets/│   └── sprites/            # Pixel art (32x32 PNGs)└── types/    └── index.ts            # All TypeScript interfaces
________________


3. Data Models
All TypeScript interfaces for the game's core data structures.
3.1 Bro State (Core Game Object)
interface BroState {  id: string;  name: string;  archetype: ArchetypeId;  createdAt: number;  lastUpdated: number;    // Primary Stats (0-100)  stats: {    energy: number;    health: number;    sanity: number;    focus: number;    social: number;    ego: number;    burnout: number;    caffeineLevel: number;  };    // Startup Stats  startup: {    name: string;    stage: StartupStage;    runway: number;        // months remaining    users: number;    productProgress: number; // 0-100 for current stage    clout: number;  };    // Inventory & Unlocks  inventory: InventoryItem[];  unlockedArchetypes: ArchetypeId[];  achievements: AchievementId[];    // Multiplayer  coFounderId?: string;    // Partner's user ID if shared  actionLog: ActionLogEntry[];}
3.2 Enums & Types
type ArchetypeId =   | 'stanford_cs'  | 'self_taught'  | 'mba_pivot'  | 'serial_founder'  | 'crypto_convert'  | 'ex_faang'  | 'indie_hacker'  | 'tech_gal';type StartupStage =  | 'ideation'  | 'mvp'  | 'first_users'  | 'validation'  | 'pre_seed'  | 'growth'  | 'series_a'  | 'scale'  | 'unicorn';type ActionType =  | 'feed'  | 'work'  | 'self_care'  | 'social'  | 'startup';interface ActionLogEntry {  timestamp: number;  userId: string;  action: ActionType;  details: string;  statChanges: Partial<BroState['stats']>;}
3.3 Action Definitions
interface GameAction {  id: string;  name: string;  category: ActionType;  icon: string;           // Pixel art asset path  duration?: number;      // Real-time minutes (for timed actions)  cooldown?: number;      // Minutes before can use again  cost?: number;          // Money cost if applicable    effects: StatEffect[];  requirements?: ActionRequirement[];  dialogue?: string[];    // Random dialogue options}interface StatEffect {  stat: keyof BroState['stats'] | keyof BroState['startup'];  change: number;         // Can be negative  isPercentage?: boolean;  isTemporary?: boolean;  duration?: number;      // Minutes if temporary}interface ActionRequirement {  stat: string;  operator: '>' | '<' | '>=' | '<=' | '==';  value: number;}
________________


4. Core Game Logic
4.1 Game Loop (Background Processing)
The game simulates time passing even when the app is closed. On app open, calculate elapsed time and apply stat decay.
// constants/gameConfig.tsexport const GAME_CONFIG = {  // Stat decay per real-world hour  DECAY_RATES: {    energy: -3,    health: -1,    sanity: -2,    focus: -2,    social: -1.5,    caffeineLevel: -5,  // Caffeine wears off faster  },    // Burnout increases when other stats are low  BURNOUT_THRESHOLD: 30,  // Stats below this increase burnout  BURNOUT_INCREASE_RATE: 2,    // Runway decreases monthly (1 month = 24 real hours)  HOURS_PER_GAME_MONTH: 24,    // Max time to simulate (prevent crazy numbers after long absence)  MAX_SIMULATION_HOURS: 72,};// utils/gameLoop.tsexport function simulateTimePassing(  broState: BroState,   elapsedMs: number): BroState {  const hours = Math.min(    elapsedMs / (1000 * 60 * 60),    GAME_CONFIG.MAX_SIMULATION_HOURS  );    let newState = { ...broState };    // Apply decay  for (const [stat, rate] of Object.entries(GAME_CONFIG.DECAY_RATES)) {    newState.stats[stat] = clamp(      newState.stats[stat] + (rate * hours),      0, 100    );  }    // Calculate burnout  const lowStats = Object.values(newState.stats)    .filter(v => v < GAME_CONFIG.BURNOUT_THRESHOLD).length;  newState.stats.burnout = clamp(    newState.stats.burnout + (lowStats * GAME_CONFIG.BURNOUT_INCREASE_RATE * hours),    0, 100  );    // Runway decay  const monthsPassed = hours / GAME_CONFIG.HOURS_PER_GAME_MONTH;  newState.startup.runway = Math.max(0, newState.startup.runway - monthsPassed);    return newState;}
4.2 Action Processing
// stores/gameStore.tsimport { create } from 'zustand';import { persist } from 'zustand/middleware';interface GameStore {  bro: BroState | null;  isLoading: boolean;    // Actions  executeAction: (action: GameAction) => void;  checkGameOver: () => GameOverReason | null;  advanceStage: () => void;}export const useGameStore = create<GameStore>()(  persist(    (set, get) => ({      bro: null,      isLoading: true,            executeAction: (action) => {        const { bro } = get();        if (!bro) return;                let newStats = { ...bro.stats };        let newStartup = { ...bro.startup };                // Apply effects        for (const effect of action.effects) {          if (effect.stat in newStats) {            newStats[effect.stat] = clamp(              newStats[effect.stat] + effect.change,              0, 100            );          } else if (effect.stat in newStartup) {            newStartup[effect.stat] += effect.change;          }        }                // Log action (for multiplayer visibility)        const logEntry: ActionLogEntry = {          timestamp: Date.now(),          userId: getCurrentUserId(),          action: action.category,          details: action.name,          statChanges: calculateChanges(bro.stats, newStats),        };                set({          bro: {            ...bro,            stats: newStats,            startup: newStartup,            lastUpdated: Date.now(),            actionLog: [...bro.actionLog.slice(-50), logEntry],          }        });                // Sync to Firebase if multiplayer        if (bro.coFounderId) {          syncToFirebase(get().bro);        }      },            checkGameOver: () => {        const { bro } = get();        if (!bro) return null;                if (bro.stats.burnout >= 100) return 'burnout';        if (bro.stats.health <= 0) return 'health_crash';        if (bro.stats.social <= 0) return 'social_collapse';        if (bro.startup.runway <= 0 && bro.startup.users < 1000) return 'runway_out';                return null;      },    }),    { name: 'pocket-bro-storage' }  ));
________________


5. Action Definitions
Complete definitions for all player actions. Store these in a config file.
5.1 Feeding Actions
// config/actions/feeding.tsexport const FEEDING_ACTIONS: GameAction[] = [  {    id: 'chipotle',    name: 'Chipotle Bowl',    category: 'feed',    icon: 'food/chipotle.png',    effects: [      { stat: 'energy', change: 15 },      { stat: 'sanity', change: 5 },      { stat: 'health', change: -5 },    ],    dialogue: [      "Gains +5 productivity from familiar comfort.",      "Your Bro inhales a burrito bowl. Extra guac.",      "The Chipotle line was worth it. Barely.",    ],  },  {    id: 'meal_replacement',    name: 'Meal Replacement Shake',    category: 'feed',    icon: 'food/soylent.png',    effects: [      { stat: 'energy', change: 10 },      { stat: 'sanity', change: -5 },    ],    dialogue: [      "Efficient. Soulless. Just like the roadmap.",      "Your Bro questions their life choices mid-sip.",    ],  },  {    id: 'energy_drink',    name: 'Energy Drink (500mg)',    category: 'feed',    icon: 'food/energy_drink.png',    effects: [      { stat: 'energy', change: 25, isTemporary: true, duration: 120 },      { stat: 'health', change: -10 },      { stat: 'focus', change: 5 },      { stat: 'caffeineLevel', change: 25 },    ],    dialogue: [      "I can see through time. Also, my hands won't stop shaking.",      "Your Bro vibrates at a frequency only dogs can hear.",      "Sleep is for the weak. And the funded.",    ],  },  {    id: 'vegetables',    name: 'Actual Vegetables',    category: 'feed',    icon: 'food/salad.png',    effects: [      { stat: 'health', change: 15 },      { stat: 'energy', change: 5 },      { stat: 'ego', change: -5 },  // Hustle cred takes a hit    ],    dialogue: [      "Your Bro reluctantly acknowledges nutrition exists.",      "Is this... a vegetable? In THIS economy?",    ],  },  {    id: 'instant_ramen',    name: 'Instant Ramen',    category: 'feed',    icon: 'food/ramen.png',    effects: [      { stat: 'energy', change: 5 },      { stat: 'health', change: -5 },      { stat: 'ego', change: 10 },  // Hustle cred boost    ],    dialogue: [      "Startup nostalgia hits different at 2am.",      "This is what separates founders from employees.",    ],  },];
5.2 Work Actions
// config/actions/work.tsexport const WORK_ACTIONS: GameAction[] = [  {    id: 'lock_in',    name: 'Lock In',    category: 'work',    icon: 'work/laptop.png',    duration: null,  // Player sets 1-12 hours    effects: [      // Applied per hour:      { stat: 'productProgress', change: 8 },      { stat: 'energy', change: -8 },      { stat: 'health', change: -2 },      { stat: 'social', change: -3 },    ],    // Diminishing returns after 4 hours    diminishingReturnsAfter: 4,    diminishingMultiplier: 0.5,  },  {    id: 'all_nighter',    name: 'Pull an All-Nighter',    category: 'work',    icon: 'work/moon.png',    cooldown: 1440,  // 24 hour cooldown    effects: [      { stat: 'productProgress', change: 50 },      { stat: 'health', change: -30 },      { stat: 'social', change: -20 },      { stat: 'burnout', change: 15 },      { stat: 'sanity', change: -20 },    ],    // 20% chance of breakthrough, 15% chance of meltdown    randomOutcomes: [      { chance: 0.20, name: 'breakthrough', effects: [        { stat: 'productProgress', change: 30 },        { stat: 'clout', change: 10 },      ]},      { chance: 0.15, name: 'meltdown', effects: [        { stat: 'sanity', change: -30 },        { stat: 'burnout', change: 20 },      ]},    ],    dialogue: [      "Sleep is a social construct invented by people without equity.",      "The bags under your Bro's eyes have bags.",    ],  },  {    id: 'deep_work',    name: 'Deep Work Mode',    category: 'work',    icon: 'work/focus.png',    duration: 120,  // 2 hours    effects: [      { stat: 'productProgress', change: 25 },      { stat: 'energy', change: -15 },      { stat: 'focus', change: 10 },    ],    requirements: [      { stat: 'focus', operator: '>=', value: 30 },    ],  },  {    id: 'check_slack',    name: 'Check Slack',    category: 'work',    icon: 'work/slack.png',    effects: [      { stat: 'focus', change: -5 },      { stat: 'social', change: 5 },    ],    triggersRandomEvent: true,  },  {    id: 'post_twitter',    name: 'Post on X',    category: 'work',    icon: 'work/twitter.png',    effects: [      { stat: 'productProgress', change: -10 },    ],    randomOutcomes: [      { chance: 0.10, name: 'viral', effects: [        { stat: 'clout', change: 50 },        { stat: 'users', change: 100 },      ]},      { chance: 0.20, name: 'ratioed', effects: [        { stat: 'clout', change: -20 },        { stat: 'sanity', change: -10 },      ]},      { chance: 0.70, name: 'ignored', effects: [        { stat: 'clout', change: 2 },      ]},    ],  },];
5.3 Self-Care Actions
// config/actions/selfcare.tsexport const SELFCARE_ACTIONS: GameAction[] = [  {    id: 'touch_grass',    name: 'Touch Grass',    category: 'self_care',    icon: 'selfcare/grass.png',    duration: 30,    effects: [      { stat: 'sanity', change: 20 },      { stat: 'health', change: 10 },      { stat: 'burnout', change: -10 },    ],    dialogue: [      "The graphics out here are insane. Zero latency.",      "Your Bro discovered nature exists. Revolutionary.",      "Is this... touching grass? Feels illegal.",    ],  },  {    id: 'gym',    name: 'Gym Session',    category: 'self_care',    icon: 'selfcare/dumbbell.png',    duration: 90,    effects: [      { stat: 'health', change: 15 },      { stat: 'energy', change: 10 },      { stat: 'ego', change: 5 },    ],    // Optional follow-up action    followUpAction: {      id: 'mirror_selfie',      name: 'Post Mirror Selfie?',      effects: [        { stat: 'clout', change: 5 },        { stat: 'social', change: -3 },      ],    },  },  {    id: 'sleep',    name: 'Sleep',    category: 'self_care',    icon: 'selfcare/bed.png',    duration: null,  // Player sets 4-10 hours    effects: [      // Per hour of sleep:      { stat: 'energy', change: 15 },      { stat: 'health', change: 5 },      { stat: 'burnout', change: -3 },    ],    // Quality multiplier based on stress    qualityModifier: (stats) => {      if (stats.burnout > 70) return 0.5;      if (stats.burnout > 50) return 0.75;      return 1.0;    },  },  {    id: 'meditate',    name: 'Meditate',    category: 'self_care',    icon: 'selfcare/lotus.png',    duration: 20,    effects: [      { stat: 'focus', change: 15 },      { stat: 'sanity', change: 10 },      { stat: 'burnout', change: -5 },    ],    unlocks: ['mindful_founder_dialogue'],  },  {    id: 'therapy',    name: 'Therapy Session',    category: 'self_care',    icon: 'selfcare/couch.png',    duration: 60,    cost: 200,    effects: [      { stat: 'sanity', change: 25 },      { stat: 'burnout', change: -15 },    ],    dialogue: [      "Your Bro discovers they have 'attachment issues with their startup.'",      "Therapist: 'Have you tried NOT checking your metrics?'",    ],  },];
5.4 Social Actions
// config/actions/social.tsexport const SOCIAL_ACTIONS: GameAction[] = [  {    id: 'coffee_shop_talk',    name: 'Talk to Someone at Coffee Shop',    category: 'social',    icon: 'social/coffee.png',    triggersMinigame: 'dating_minigame',    effects: {      success: [        { stat: 'social', change: 20 },        { stat: 'sanity', change: 10 },      ],      failure: [        { stat: 'ego', change: -10 },        { stat: 'social', change: -5 },      ],    },    dialogue: {      success: [        "They actually laughed at your blockchain joke!",        "You got their number. Time to overthink every text.",      ],      failure: [        "She didn't understand my vision. Her loss. Back to building.",        "Your Bro mentioned cap tables on the first date. Again.",      ],    },  },  {    id: 'networking_event',    name: 'Attend Networking Event',    category: 'social',    icon: 'social/handshake.png',    duration: 180,    effects: [      { stat: 'social', change: 15 },      { stat: 'energy', change: -10 },    ],    randomOutcomes: [      { chance: 0.15, name: 'meet_investor', effects: [        { stat: 'clout', change: 20 },      ], unlocks: ['investor_connection'] },      { chance: 0.10, name: 'meet_cofounder', effects: [        { stat: 'social', change: 25 },      ]},    ],  },  {    id: 'call_mom',    name: 'Call Mom',    category: 'social',    icon: 'social/phone.png',    duration: 30,    effects: [      { stat: 'sanity', change: 15 },      { stat: 'burnout', change: -5 },    ],    dialogue: [      "Mom: 'When are you getting a real job?'",      "Your Bro tries to explain 'product-market fit' for the 47th time.",      "Mom sent food money. Bless.",    ],  },  {    id: 'coworking_hangs',    name: 'Co-working Space Hangs',    category: 'social',    icon: 'social/coworking.png',    duration: 120,    effects: [      { stat: 'social', change: 10 },      { stat: 'productProgress', change: 5 },      { stat: 'focus', change: -15 },    ],  },  {    id: 'founder_circle',    name: 'Founder Therapy Circle',    category: 'social',    icon: 'social/group.png',    duration: 90,    effects: [      { stat: 'sanity', change: 20 },      { stat: 'social', change: 10 },      { stat: 'burnout', change: -10 },    ],    dialogue: [      "You're not alone in this nightmare.",      "Everyone shares their runway anxiety. It helps.",    ],  },];
________________


6. UI Components & Screens
6.1 Screen Flow
1. Splash Screen → Animated logo, load saved game
2. Main Game Screen → Bro display, stats, quick actions
3. Action Menu → Feed, Work, Self-Care, Social tabs
4. Startup Dashboard → Stage progress, metrics, milestones
5. Bro Profile → Archetype info, inventory, achievements
6. Settings → Notifications, sound, multiplayer link
7. Game Over Screen → Results, restart option
6.2 Main Game Screen Layout
// screens/MainGameScreen.tsxexport function MainGameScreen() {  const { bro } = useGameStore();    return (    <SafeAreaView style={styles.container}>      {/* Top: Critical Stats Bar */}      <StatsBar         energy={bro.stats.energy}        health={bro.stats.health}        burnout={bro.stats.burnout}        runway={bro.startup.runway}      />            {/* Center: Bro Display (pixel art character) */}      <BroDisplay         archetype={bro.archetype}        mood={calculateMood(bro.stats)}        animation={currentAnimation}      />            {/* Dialogue Bubble (shows after actions) */}      {dialogue && <DialogueBubble text={dialogue} />}            {/* Bottom: Quick Action Buttons */}      <QuickActions         onFeed={() => navigate('ActionMenu', { tab: 'feed' })}        onWork={() => navigate('ActionMenu', { tab: 'work' })}        onCare={() => navigate('ActionMenu', { tab: 'self_care' })}        onSocial={() => navigate('ActionMenu', { tab: 'social' })}      />            {/* Floating: Startup Stage Indicator */}      <StageIndicator         stage={bro.startup.stage}        progress={bro.startup.productProgress}      />    </SafeAreaView>  );}
6.3 Pixel Art Rendering
Critical for achieving the Tamagotchi aesthetic. Disable image smoothing to keep pixels crisp.
// components/PixelImage.tsximport { Image, StyleSheet } from 'react-native';interface PixelImageProps {  source: ImageSourcePropType;  width: number;  height: number;}export function PixelImage({ source, width, height }: PixelImageProps) {  return (    <Image      source={source}      style={[styles.pixelImage, { width, height }]}      // CRITICAL: This keeps pixels sharp, not blurry      resizeMode="nearest-neighbor"  // Android      // For iOS, use a scaled-up asset or apply this in native code    />  );}// For web/Expo: Use CSS image-renderingconst styles = StyleSheet.create({  pixelImage: {    // @ts-ignore - web only    imageRendering: 'pixelated',  },});// Asset sizing: Create sprites at 1x (e.g., 32x32)// Display at 4x-6x size for chunky pixel look// e.g., 32px sprite displayed at 128px-192px
6.4 Stats Bar Component
// components/StatsBar.tsxexport function StatsBar({ energy, health, burnout, runway }) {  return (    <View style={styles.container}>      <StatMeter         icon="⚡"         value={energy}         color="#FFD93D"        label="Energy"      />      <StatMeter         icon="❤️"         value={health}         color="#FF6B6B"        label="Health"      />      <StatMeter         icon="🔥"         value={burnout}         color="#FF8C42"        label="Burnout"        inverted  // High is bad      />      <RunwayMeter months={runway} />    </View>  );}function StatMeter({ icon, value, color, label, inverted }) {  const displayColor = inverted && value > 70 ? '#FF0000' : color;    return (    <View style={styles.meter}>      <Text style={styles.icon}>{icon}</Text>      <View style={styles.barContainer}>        <View style={[          styles.barFill,           { width: `${value}%`, backgroundColor: displayColor }        ]} />      </View>    </View>  );}
________________


7. Multiplayer Implementation
7.1 Firebase Data Structure
// Firebase Realtime Database structure{  "bros": {    "{broId}": {      "ownerId": "user123",      "coFounderId": "user456",  // null if solo      "state": { /* BroState object */ },      "lastUpdated": 1706745600000,      "shareCode": "ABC123"  // 6-char code for joining    }  },  "users": {    "{userId}": {      "activeBroId": "bro789",      "pushToken": "...",      "settings": { ... }    }  },  "shareCodes": {    "ABC123": "bro789"  // Maps share code to bro ID  }}
7.2 Real-Time Sync
// hooks/useMultiplayerSync.tsimport { ref, onValue, set } from 'firebase/database';export function useMultiplayerSync(broId: string) {  const { setBro } = useGameStore();    useEffect(() => {    if (!broId) return;        const broRef = ref(db, `bros/${broId}/state`);        // Listen for changes from co-founder    const unsubscribe = onValue(broRef, (snapshot) => {      const remoteState = snapshot.val();      if (remoteState && remoteState.lastUpdated > localLastUpdated) {        setBro(remoteState);        showNotification('Co-founder made changes!');      }    });        return () => unsubscribe();  }, [broId]);}// Sync local changes to Firebaseexport async function syncToFirebase(broState: BroState) {  const broRef = ref(db, `bros/${broState.id}/state`);  await set(broRef, broState);}
7.3 Share Link Generation
// utils/sharing.tsexport async function generateShareLink(broId: string): Promise<string> {  // Generate 6-character code  const shareCode = generateRandomCode(6);    // Store in Firebase  await set(ref(db, `shareCodes/${shareCode}`), broId);  await set(ref(db, `bros/${broId}/shareCode`), shareCode);    // Return deep link  return `pocketbro://join/${shareCode}`;}export async function joinWithCode(shareCode: string, userId: string) {  // Look up bro ID  const snapshot = await get(ref(db, `shareCodes/${shareCode}`));  const broId = snapshot.val();    if (!broId) throw new Error('Invalid share code');    // Set this user as co-founder  await update(ref(db, `bros/${broId}`), {    coFounderId: userId  });    // Update user's active bro  await set(ref(db, `users/${userId}/activeBroId`), broId);    return broId;}
7.4 Push Notifications
// services/notifications.tsimport * as Notifications from 'expo-notifications';// Notification typesconst NOTIFICATION_TRIGGERS = {  low_energy: { threshold: 20, message: "Your Bro is running on fumes! ⚡" },  low_health: { threshold: 25, message: "Your Bro needs rest! ❤️" },  high_burnout: { threshold: 80, message: "Burnout imminent! Take action! 🔥" },  low_runway: { threshold: 2, message: "2 months of runway left! 💰" },  cofounder_action: { message: "Your co-founder just {action}!" },};export async function scheduleStatNotifications(bro: BroState) {  // Clear existing  await Notifications.cancelAllScheduledNotificationsAsync();    // Check each threshold  for (const [key, config] of Object.entries(NOTIFICATION_TRIGGERS)) {    if (key === 'cofounder_action') continue;        const statValue = getStatValue(bro, key);    if (meetsThreshold(statValue, config.threshold, key)) {      await Notifications.scheduleNotificationAsync({        content: { title: 'Pocket Bro', body: config.message },        trigger: { seconds: 1 },      });    }  }}// Send to co-founder when action takenexport async function notifyCoFounder(  coFounderId: string,   action: string) {  const token = await getUserPushToken(coFounderId);  if (!token) return;    await sendPushNotification(token, {    title: 'Pocket Bro',    body: `Your co-founder just ${action}!`,  });}
________________


8. Random Events System
8.1 Event Definitions
// config/randomEvents.tsinterface RandomEvent {  id: string;  name: string;  description: string;  probability: number;  // 0-1  conditions?: EventCondition[];  effects: StatEffect[];  choices?: EventChoice[];  // If player can respond  dialogue: string[];}export const RANDOM_EVENTS: RandomEvent[] = [  // POSITIVE  {    id: 'viral_tweet',    name: 'Tweet Goes Viral',    description: 'Your tweet blew up overnight!',    probability: 0.02,    effects: [      { stat: 'clout', change: 50 },      { stat: 'users', change: 500 },    ],    dialogue: ["The ratio is... good? This feels illegal."],  },  {    id: 'techcrunch_feature',    name: 'TechCrunch Feature',    description: 'TechCrunch wants to write about you!',    probability: 0.01,    conditions: [{ stat: 'users', operator: '>=', value: 1000 }],    effects: [      { stat: 'clout', change: 100 },      { stat: 'users', change: 2000 },    ],  },    // NEGATIVE  {    id: 'aws_bill',    name: 'AWS Bill Shock',    description: 'Your AWS bill is 10x what you expected.',    probability: 0.05,    effects: [      { stat: 'runway', change: -1 },      { stat: 'sanity', change: -15 },    ],    dialogue: ["Who left the Lambda running?!"],  },  {    id: 'competitor_funded',    name: 'Competitor Raises Big',    description: 'Your main competitor just raised $50M.',    probability: 0.03,    effects: [      { stat: 'sanity', change: -20 },      { stat: 'ego', change: -10 },    ],    choices: [      { text: 'Panic pivot', effects: [{ stat: 'productProgress', change: -30 }] },      { text: 'Stay the course', effects: [{ stat: 'focus', change: 10 }] },    ],  },  {    id: 'cofounder_talk',    name: 'Co-founder Wants to Talk',    description: 'Your co-founder says "we need to talk."',    probability: 0.04,    conditions: [{ stat: 'social', operator: '<=', value: 40 }],    triggersMinigame: 'cofounder_crisis',  },    // CHAOTIC NEUTRAL  {    id: 'elon_tweet',    name: 'Elon Tweeted About Your Industry',    description: 'Chaos ensues.',    probability: 0.02,    effects: [      { stat: 'users', change: randomRange(-500, 1000) },      { stat: 'clout', change: randomRange(-30, 50) },    ],  },  {    id: 'hn_frontpage',    name: 'Hacker News Frontpage',    description: 'Brace for brutally honest feedback.',    probability: 0.02,    effects: [      { stat: 'users', change: 300 },      { stat: 'sanity', change: -25 },      { stat: 'productProgress', change: 5 },  // Honest feedback helps    ],  },];
8.2 Event Processing
// services/eventService.tsexport function checkForRandomEvents(bro: BroState): RandomEvent | null {  // Shuffle events for fairness  const shuffled = [...RANDOM_EVENTS].sort(() => Math.random() - 0.5);    for (const event of shuffled) {    // Check probability    if (Math.random() > event.probability) continue;        // Check conditions    if (event.conditions && !meetsConditions(bro, event.conditions)) continue;        // Event triggers!    return event;  }    return null;}// Call this periodically (e.g., every hour of real time, or after certain actions)export function processRandomEvent(  bro: BroState,   event: RandomEvent): { newState: BroState; showModal: boolean } {  let newState = { ...bro };    // Apply effects  for (const effect of event.effects) {    newState = applyEffect(newState, effect);  }    // Log event  newState.actionLog.push({    timestamp: Date.now(),    userId: 'system',    action: 'event',    details: event.name,    statChanges: {},  });    return {    newState,    showModal: true,  // Show event to player  };}
________________


9. Minigames
9.1 Dating Minigame (Coffee Shop Talk)
// minigames/DatingMinigame.tsx/*  Simple conversation game where player picks dialogue options.  Success based on avoiding cringe tech-bro responses.*/const DATING_SCENARIOS = [  {    prompt: "So, what do you do?",    options: [      { text: "I'm building something that could change the world.", score: -10 },      { text: "I work in tech. What about you?", score: 20 },      { text: "Let me tell you about our Series A...", score: -30 },    ],  },  {    prompt: "What do you do for fun?",    options: [      { text: "Fun? I'm on a 90-day sprint.", score: -20 },      { text: "I like hiking and reading. You?", score: 20 },      { text: "Optimizing my morning routine.", score: -10 },    ],  },  {    prompt: "Where do you see yourself in 5 years?",    options: [      { text: "IPO or acquisition, obviously.", score: -15 },      { text: "Happy and healthy, hopefully.", score: 25 },      { text: "Disrupting multiple verticals.", score: -25 },    ],  },];export function DatingMinigame({ onComplete }) {  const [score, setScore] = useState(0);  const [round, setRound] = useState(0);    const handleChoice = (option) => {    setScore(s => s + option.score);        if (round >= DATING_SCENARIOS.length - 1) {      // Game over      const success = score > 0;      onComplete(success);    } else {      setRound(r => r + 1);    }  };    return (    <MinigameContainer>      <DialogueBubble text={DATING_SCENARIOS[round].prompt} />      {DATING_SCENARIOS[round].options.map(opt => (        <ChoiceButton           key={opt.text}          text={opt.text}          onPress={() => handleChoice(opt)}        />      ))}    </MinigameContainer>  );}
9.2 Lock In Timer
// minigames/LockInTimer.tsx/*  Player sets how many hours to lock in (1-12).  Real-time countdown with productivity gains.  Can be interrupted but loses bonus.*/export function LockInTimer({ onComplete, onInterrupt }) {  const [hours, setHours] = useState(4);  const [isRunning, setIsRunning] = useState(false);  const [progress, setProgress] = useState(0);    // Convert game hours to real minutes (1 game hour = 5 real minutes)  const REAL_MINUTES_PER_HOUR = 5;  const totalMinutes = hours * REAL_MINUTES_PER_HOUR;    const startLockIn = () => {    setIsRunning(true);    // Start background timer    scheduleBackgroundTask(totalMinutes, () => {      onComplete(hours);    });  };    const interrupt = () => {    cancelBackgroundTask();    const completedHours = Math.floor(progress * hours);    onInterrupt(completedHours);  };    return (    <View style={styles.container}>      {!isRunning ? (        <>          <Text style={styles.title}>How long to lock in?</Text>          <Slider            min={1}            max={12}            value={hours}            onChange={setHours}          />          <Text>{hours} hours</Text>          <Text style={styles.warning}>            {hours > 4 && "⚠️ Diminishing returns after 4 hours"}          </Text>          <Button title="Start Locking In" onPress={startLockIn} />        </>      ) : (        <>          <PixelImage source={require('./assets/coding.gif')} />          <ProgressBar progress={progress} />          <Text>{formatTimeRemaining(progress, totalMinutes)}</Text>          <Button title="Interrupt" onPress={interrupt} variant="danger" />        </>      )}    </View>  );}
________________


10. Art Assets Requirements
10.1 Pixel Art Style Guide
* Resolution: 32x32 base sprites, displayed at 4x-6x scale
* Color Palette: Limited palette (16-32 colors) for cohesive retro look
* Animation: Simple 2-4 frame loops for idle, actions
* Style Reference: Original Tamagotchi, early Game Boy aesthetics
10.2 Required Sprites
Category
	Assets Needed
	Characters
	8 archetypes × 5 mood states × idle animation (2-4 frames each)
	Food Icons
	Chipotle, shake, energy drink, salad, ramen (6 items)
	Work Icons
	Laptop, moon, focus, slack, twitter (5 items)
	Self-Care Icons
	Grass, dumbbell, bed, lotus, couch (5 items)
	Social Icons
	Coffee cup, handshake, phone, coworking, group (5 items)
	UI Elements
	Stat bars, buttons, dialogue bubble, stage badges
	Backgrounds
	Garage, apartment, WeWork, office, penthouse (5 scenes)
	10.3 Placeholder Strategy
For initial development, use emoji or simple colored rectangles as placeholders. The game logic should work independently of final art assets.
________________


11. Getting Started (For Claude Code)
11.1 Initial Setup Commands
# Create Expo project with TypeScriptnpx create-expo-app PocketBro --template expo-template-blank-typescriptcd PocketBro# Install dependenciesnpx expo install zustandnpx expo install @react-native-async-storage/async-storagenpx expo install firebasenpx expo install expo-notificationsnpx expo install expo-linking  # For deep links/share codesnpx expo install @react-navigation/native @react-navigation/stacknpx expo install react-native-screens react-native-safe-area-context
11.2 Build Order (Recommended)
8. Core State: Set up Zustand store with BroState, persistence
9. Game Loop: Implement time simulation, stat decay
10. Main Screen: Bro display, stats bar (with placeholders)
11. Actions: Implement all action categories with effects
12. Random Events: Event system, modal display
13. Startup Journey: Stage progression, win/lose conditions
14. Minigames: Dating game, lock-in timer
15. Multiplayer: Firebase integration, share links
16. Polish: Notifications, final art, sound
11.3 Key Implementation Notes
* Start with single-player working completely before adding multiplayer
* Use placeholder graphics (emoji/colored boxes) until art is ready
* Test on both iOS and Android frequently—rendering differences exist
* Keep action configs in separate files for easy balancing
* Add console logging for all stat changes during development
— End of Technical Specification —